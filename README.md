# CreativeBookShelf

AIを活用した本の自動生成・管理システム

## 概要

CreativeBookShelfは、AIを使用して本を自動生成し、管理できるWebアプリケーションです。
ユーザーは本の概要や想定読者を入力するだけで、AIが自動的に本を生成します。
生成された本はPDFとして保存され、オンラインで管理・閲覧することができます。

## 主な機能

- AIによる本の自動生成
- 本の一覧表示と検索
- いいね機能
- PDFダウンロード
- ユーザー認証

## 技術スタック

- フロントエンド
  - Next.js 14
  - TypeScript
  - Tailwind CSS
  - shadcn/ui

- バックエンド
  - Supabase (認証・データベース)
  - FastAPI (AI生成サーバー)

## セットアップ

### 前提条件

- Node.js (v18以上)
- npm (v9以上)
- Supabaseアカウント

### 1. リポジトリのクローン
```bash
git clone <repository-url>
cd creative-bookshelf
npm install

### 2. Supabaseの設定

1. [Supabase](https://supabase.com)でプロジェクトを作成
2. SQL Editorで以下のテーブルを作成:
```sql
sql
-- booksテーブル
create table public.books (
id bigint generated by default as identity primary key,
title text not null,
author text not null,
cover_image text,
description text,
pdf_path text,
created_at timestamp with time zone default timezone('utc'::text, now()) not null
);
-- likesテーブル
create table public.likes (
id bigint generated by default as identity primary key,
book_id bigint references public.books(id) on delete cascade,
user_id uuid references auth.users(id) on delete cascade,
created_at timestamp with time zone default timezone('utc'::text, now()) not null,
unique(book_id, user_id)
);
-- RLSポリシーの設定
alter table public.books enable row level security;
alter table public.likes enable row level security;
-- booksテーブルのポリシー
create policy "Enable read access for all users" on public.books
for select using (true);
create policy "Enable insert access for authenticated users" on public.books
for insert with check (auth.role() = 'authenticated');
-- likesテーブルのポリシー
create policy "Enable read access for authenticated users" on public.likes
for select using (auth.uid() = user_id);
create policy "Enable insert access for authenticated users" on public.likes
for insert with check (auth.uid() = user_id);
create policy "Enable delete access for authenticated users" on public.likes
for delete using (auth.uid() = user_id);
```

### 3. 環境変数の設定

`.env.local`ファイルをプロジェクトルートに作成:
```env
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

### 4. ファイル保存用ディレクトリの作成
```bash
mkdir -p public/uploads/covers
mkdir -p public/uploads/books

### 5. 開発サーバーの起動
```bash
npm run dev
```

アプリケーションは http://localhost:3000 で起動します。

## 使用方法

1. アカウントの作成
   - トップページから「サインアップ」を選択
   - メールアドレスとパスワードで登録

2. 本の生成
   - 「本の追加」ページで本の概要と想定読者を入力
   - ページ数を設定して「本を生成」をクリック
   - 生成が完了すると自動的に一覧に追加

3. 本の管理
   - トップページで生成された本の一覧を確認
   - 各本に対していいねやPDFダウンロードが可能
   - 検索バーで本のタイトルによる検索が可能

## ライセンス

MIT

## 貢献について

プルリクエストや課題の報告を歓迎します。
大きな変更を加える場合は、まず課題を開いて変更内容を議論してください。

